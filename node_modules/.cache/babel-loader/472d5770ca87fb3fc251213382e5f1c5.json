{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\n/* \r\n  【Storageフック】\r\n　・TodoをlocalStorageを使って保存する\r\n　・以下機能をサポートする\r\n　  - localstrageに保存されているすべてのTodoの読み出し機能\r\n　  - Todoをlocalstrageに保存する\r\n　  - localstrageにあるTodoを削除する\r\n*/\n\nconst STORAGE_KEY = 'itss-todo';\n\nfunction useStorage() {\n  _s();\n\n  const [items, setItems] = useState([]);\n  /* 副作用を使う */\n\n  useEffect(() => {\n    setItems(JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'));\n  }, []);\n\n  const putItems = items => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n    setItems(items);\n  };\n\n  const clearItems = () => {\n    localStorage.clear();\n    setItems([]);\n  };\n\n  return [items, putItems, clearItems];\n}\n\n_s(useStorage, \"E85yb7BhBnl3/OpymRdjFiQJ97s=\");\n\nexport default useStorage;","map":{"version":3,"names":["useState","useEffect","STORAGE_KEY","useStorage","items","setItems","JSON","parse","localStorage","getItem","putItems","setItem","stringify","clearItems","clear"],"sources":["C:/Users/Hung Hung/Desktop/todo/itss_std_react_todo_k63/src/hooks/storage.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n/* \r\n  【Storageフック】\r\n　・TodoをlocalStorageを使って保存する\r\n　・以下機能をサポートする\r\n　  - localstrageに保存されているすべてのTodoの読み出し機能\r\n　  - Todoをlocalstrageに保存する\r\n　  - localstrageにあるTodoを削除する\r\n*/\r\n\r\nconst STORAGE_KEY = 'itss-todo';\r\n\r\nfunction useStorage() {\r\n  const [items, setItems] = useState([]); /* 副作用を使う */\r\n  useEffect(() => {\r\n    setItems(JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'));\r\n  }, []);\r\n\r\n  const putItems = (items) => {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\r\n    setItems(items);\r\n  };\r\n\r\n  const clearItems = () => {\r\n    localStorage.clear();\r\n    setItems([]);\r\n  };\r\n\r\n  return [items, putItems, clearItems];\r\n}\r\n\r\nexport default useStorage;\r\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,WAAW,GAAG,WAApB;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EACpB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;EAAwC;;EACxCC,SAAS,CAAC,MAAM;IACdI,QAAQ,CAACC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBP,WAArB,KAAqC,IAAhD,CAAD,CAAR;EACD,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMQ,QAAQ,GAAIN,KAAD,IAAW;IAC1BI,YAAY,CAACG,OAAb,CAAqBT,WAArB,EAAkCI,IAAI,CAACM,SAAL,CAAeR,KAAf,CAAlC;IACAC,QAAQ,CAACD,KAAD,CAAR;EACD,CAHD;;EAKA,MAAMS,UAAU,GAAG,MAAM;IACvBL,YAAY,CAACM,KAAb;IACAT,QAAQ,CAAC,EAAD,CAAR;EACD,CAHD;;EAKA,OAAO,CAACD,KAAD,EAAQM,QAAR,EAAkBG,UAAlB,CAAP;AACD;;GAjBQV,U;;AAmBT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}